<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <meta name="description" content="これはfujita-createのポートフォリオ(かぶちゃんの説明のページ)です">
        <meta name="author" content="fujita-create">
        <title>Fujita-createのポートフォリオ</title>
        <link rel="stylesheet" href="./myCSS.css">
        <link rel="stylesheet" href="./workexplainCSS.css">
    </head>
    <body>
        <header id="headerback">
            <div class="headers">
                <div class="header_left">
                    <h3>Fujita-createポートフォリオ</h3>
                </div>
                <div class="header_right">
                    <a href="index.html">Home</a>
                    <a href="works.html">Works</a>
                </div>
            </div>
        </header>
        <main>
            <div class="Outline">
                <h2>
                    Outline
                </h2>
                <div class="outline-content">
                <section>
                    <h3>「かぶちゃんについて」</h3>
                    <p>
                    かぶちゃんは、あなたの株取引をちょっぴり応援するAI風の女の子です。<br>
                    年齢は20歳、田舎で親の畑を継ぎながら何か副業ができないと思い、株の勉強を始めました。<br>
                    まだまだ勉強中ですが頑張って予想しているので応援してください。
                    </p>
                    <div>
                        <a href="https://web-app-kabuchan.onrender.com/kabuchan/">
                            <img src="static/img/kabuchan_happy.png" alt="かぶちゃんサムネイル"  class="linkimg">
                        </a>
                        <p id="click">クリックでアプリへ</p>
                    </div>

                </section>

                <section>
                    <h3>「使用した技術」</h3>
                    <ul>
                        <li>フロントエンド：HTML, CSS, JavaScript</li>
                        <li>バックエンド：Python</li>
                        <li>フレームワーク：Django</li>
                        <li>外部ライブラリ：numpy, pandas, yfinance, scikit-learn, imblearn, Mecab, BeautifulSoup, jaconb, </li>
                        <li>デプロイ：render, GitHub, Docker</li>
                        <li>開発環境：Windows11, Python3.12.4, VScode</li>
                        <li>デバイス：CPU;Ryzen5 4500 , GPU;GeForce RTX 4060 , RAM;16GB , SSD;1TB</li>
                    </ul>
                </section>

                <section>
                    <h3>「使用した技術の概要」</h3>
                    <p>HTML・CSS：HTMLでのリンクやページの作成、およびCSSでのデザイン</p>
                    <p>JavaScript：デフォルトの表情→かぶちゃんが考えている表情→感情の表情 のシームレスな切り替えに動的処理を採用</p>
                    <p>Python：バックエンド処理を担当</p>
                    <ul>
                        <li>numpy：高速な計算を担当</li>
                        <li>pandas：単純移動平均やRSI指標など、欠損が含まれるデータの整形や、それらの数値の計算</li>
                        <li>yfinance：yahoofinanceの非公式API。株価のデータ（始値や終値など）を収集</li>
                        <li>sklearn：株が上がるか下がるか（二値分類）をGradientBoostingClassifierモデルで作成。GridSearchCVでのhyper-parameterのチューニング</li>
                        <li>imblearn：データの偏りをSMOTEを使い修正</li>
                        <li>Mecab：感情辞書をダウンロード。そのファイルのみを利用</li>
                        <li>BeautifulSoup：経済のニュースをスクレイピングし、感情分析</li>
                        <li>jaconv：日本語や全角文字を正規化</li>
                    </ul>
                    <p>GitHub・render：GitHubリポジトリを作成し、renderにてデプロイ（starterプラン：月7.5ドル）</p>
                    <p>Docker：Dockerファイルを作り、ローカル環境と同じ状態でデプロイ可能に。これにより重いライブラリを格納</p>
                </section>
                </div>
            </div>
            <div class="Demonstration">
                <h2>
                    Demonstration
                </h2>
                <div class="demo-content">
                <section>
                    <p>かぶちゃんの使い方はこちらをご覧ください</p>
                    <video controls class="demo-video">
                        <source src="static/video/kabuchan_demo.mp4" type="video/mp4">
                    </video>
                </section>
                </div>
            </div>
            <div class="Ingenuity">
                <h2>
                    Ingenuity
                </h2>
                <div class="ingenuity-section">
                    <div class="ingenuity-card">
                        <h3>🧠 ユーザー体験への工夫 🧠</h3>
                            <p>
                                本アプリ「かぶちゃん」は、「株のことがよくわからない人でも、感覚的に使えること」をコンセプトに設計されたWebアプリです。<br>
                                株式投資は初心者にとって難解なイメージが強く、特に既存の株価分析ツールや証券会社のアプリは、情報量が多く複雑な操作を要求するものが多いため、初心者を遠ざけてしまう傾向がありました。<br><br>

                                そこで本アプリでは、「誰にでも親しみやすく、意思決定のサポートになる情報提供」を目指し、ポップで直感的なUIを意識した設計にしています。<br>
                                その中核として登場するのが、AI風のキャラクター「かぶちゃん」です。<br>
                                かぶちゃんは、ユーザーの入力に応じて表情を変えながら、株価の動きについてコメントや予測を伝えてくれます。<br>
                                キャラクターを通じて情報を提示することで、ユーザーは難しい数値を「考える」「会話する」「感じる」といった多様な認知スタイルで受け取ることができるようになります。<br><br>

                                UIの面では、予測の結果がただの「数値」として表示されるのではなく、「上がる可能性が高い」「今は様子を見るべき」など、表情やセリフを通じて視覚的・感情的に理解できる形で提示されます。<br>
                                さらに、感情の変化や処理中の状態もアニメーションによって表現し、ユーザーの操作に対してアプリが反応してくれる「インタラクティブ感」も重視しました。<br><br>

                                こうして、「かぶちゃん」というキャラクターをインターフェースとして活用することで、これまで投資に敷居の高さを感じていたユーザー層にも安心感と親しみを提供し、株価予測という専門性の高いテーマを、より身近に感じられるようなアプリを目指しています。
                            </p>
                    </div>

                <div class="ingenuity-card">
                    <h3>🤖 機械学習モデルの選定 🤖</h3>
                    <p>
                        今回、機械学習は GradientBoostingClassifier モデルを採用しています。<br>
                        このモデルは GradientBoostingClassifier は、いくつもの予測モデル（主に決定木）を組み合わせて精度を高める機械学習モデルで、予測のズレを少しずつ修正しながら学習するのが特徴です。<br>
                        これは複雑な非線形関係を捉えることができ、ハイパーパラメータ調整によって柔軟に精度改善が可能なため、一値分類において高い性能が期待できることから採用しました。<br><br>

                        精度向上においては、GridSearchCVによるグリッドサーチを行い、予測誤差に基づき最も高いスコアを出す組み合わせを選定しました（learning_rate、n_estimators、max_depth などが主なパラメータ）。<br><br>

                        また、クラス不均衡の影響を軽減するため、SMOTE により少数クラスのサンプルを線形補間で人工的に合成し、偏りのない学習データを構築しました。<br>
                        終値（Close）は市場の1日の意思を最も反映する値であることから、RSIやMACDなど、終値を基にしたテクニカル指標を中心に特徴量として活用しました。<br>
                    </p>
                </div>

                <div class="ingenuity-card">
                    <h3>🗾 ニュースの感情分析 🗾</h3>
                    <p>
                        GNews APIは無料プランだと1日100リクエストという制限があり、アクセスが増えた際に利用制限にかかる恐れがありました。<br>
                        そのため、外部APIを使用せず、Yahoo!ニュースからスクレイピングで経済ニュースの見出しを自動取得する仕組みを導入しました。
                        これにより、制限を気にせず柔軟に情報取得が可能になっています。<br>
                        当初、感情分析には MLAsk ライブラリ本体を使おうとしましたが、内部で使用されている MeCab が野良ビルド環境で正常動作せず、日本語の形態素解析に問題が発生しました。<br>
                        そこで代替案として、Mecabに付属している感情辞書（感情カテゴリ別の単語テキスト）だけを活用し、自作の簡易分析器を実装しました。
                        形態素解析には頼らず、ニュース見出し内に辞書内の語が含まれているかどうかをチェックして集計する方式に切り替えることで、依存性を減らしつつ、感情分析機能を維持することができました。<br>
                        感情辞書は「ひらがな・半角」で記載されている一方、Yahooニュースの見出しには「カタカナ・全角数字・全角英字」などの表記が混在しています。
                        このままでは一致率が低くなるため、jaconv ライブラリを使用して、ひらがな化・半角化といった正規化処理を実施しました。
                        この前処理により、感情語のマッチ精度が大幅に向上しました。
                    </p>
                </div>

            

                <div class="ingenuity-card">
                    <h3>⚙️ フレームワークについて</h3>
                    <p>
                        本アプリでは、Python製のWebフレームワークである Django を採用しています。<br>
                        Django は「電池付き（batteries included）」と称されるように、Webアプリケーション開発に必要な機能がフルスタックで揃っており、開発効率と保守性の高さが特徴です。<br><br>

                        本プロジェクトでは、ユーザーが銘柄コードを入力すると、バックエンドで機械学習による予測処理が行われ、その結果をWebページ上にグラフとともに表示するという一連の流れを、Django のルーティング機能やテンプレートエンジンを使って構築しました。<br>
                        また、フォーム処理や静的ファイル（画像・CSS・JavaScript）の管理にもDjangoの仕組みを活用し、ロジックと表示の分離による可読性の高いコードを維持しています。<br><br>

                        さらに、学習済みモデルの読込処理や非同期的なJavaScriptとのやり取りも、DjangoのView関数やURLディスパッチャを通じて柔軟に実装できました。<br>
                        こうした特徴により、機械学習とWebの橋渡しがスムーズにつながり、初心者にも使いやすいインターフェースを実現しています。
                    </p>
                </div>

                <div class="ingenuity-card">
                    <h3>⚙️ Dockerによるデプロイ ⚙️</h3>
                    <p>
                        本アプリでは、アプリのデプロイに Docker を活用しています。<br>
                        これは、以前に別のWebアプリを開発した際、使用していたライブラリの容量が大きく、デプロイ先の環境で依存関係の解決がうまくいかず、正常に動作しないという問題を経験したことが背景にあります。<br><br>

                        今回はその教訓を活かす形で、Docker を用いてローカルの開発環境をそのまま再現可能な形でパッケージ化することで、ライブラリの重さや環境差異によるトラブルを回避しました。<br>
                        これにより、開発と同じ状態をそのまま本番環境で実行でき、安定したデプロイが実現しました。
                    </p>
                </div>

                <div class="ingenuity-card">
                    <h3>📊 データについて 📊</h3>
                    <p>
                        分析には、東京証券取引所が提供する過去5年分の株価データを使用しました。<br>
                        元データは旧形式のExcelファイルで提供されていたため、pandas を用いて適切に読み込み・整形を行い、CSVとして取り扱いました。<br><br>

                        また、機械学習で使いやすい形に前処理を行い、RSIやMACDなどは、一般的にta-libというライブラリを使うのが通例ですが、今回は ta-lib がCライブラリ依存のため、Dockerやクラウド環境へのデプロイ時にビルドエラーや依存関係の問題が生じやすく、継続的な運用性を考慮して採用を見送りました。
                    </p>
                </div>
                </div>
            </div>
            <div class="Update">
                <h2>
                    Update
                </h2>
                <div>
                    <ul>
                        <li>2025/5/15 機械学習を最適化</li>
                        <li>2025/5/19「今日の市場の様子は？」を正式な機能として実装</li>
                    </ul>
                    
                </div>
            </div>
        </main>
    </body>
</html>